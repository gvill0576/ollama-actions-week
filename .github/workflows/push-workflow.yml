name: Push Workflow

on:
  push:
    branches:
      - main

env:
  COURSE_NAME: "AI Cloud and DevOps Bootcamp"
  COHORT: "Echo"

jobs:
  automation-job:
    runs-on: ubuntu-latest
    
    env:
      REPORT_TITLE: "Automated Workflow Summary"
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      
      - name: Display environment variables
        run: |
          echo "Course: $COURSE_NAME"
          echo "Cohort: $COHORT"
          echo "Report Title: $REPORT_TITLE"
          echo "Triggered by: ${{ github.actor }}"
          echo "Repository: ${{ github.repository }}"
      
      - name: Create log file
        run: |
          echo "Workflow executed at: $(date)" > log.txt
          echo "This workflow was triggered by a push to main" >> log.txt
      
      - name: Print working directory
        run: pwd
      
      - name: Display log contents
        run: cat log.txt
      
      - name: Read name.txt
        run: |
          echo "=== My Name ==="
          cat name.txt
      
      - name: Read devops.txt
        run: |
          echo "=== Why I'm Learning DevOps ==="
          cat devops.txt
      
      - name: Generate summary report
        run: |
          echo "=== $REPORT_TITLE ===" > summary.txt
          echo "Generated at: $(date)" >> summary.txt
          echo "Course: $COURSE_NAME" >> summary.txt
          echo "Cohort: $COHORT" >> summary.txt
          echo "Triggered by: ${{ github.actor }}" >> summary.txt
          echo "Repository: ${{ github.repository }}" >> summary.txt
          echo "" >> summary.txt
          echo "Name:" >> summary.txt
          cat name.txt >> summary.txt
          echo "" >> summary.txt
          echo "DevOps Motivation:" >> summary.txt
          cat devops.txt >> summary.txt
      
      - name: Display summary report
        run: cat summary.txt
      
      - name: Print custom message
        run: echo "Hello from George! Code Platoon represent!"
